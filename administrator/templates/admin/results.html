<!DOCTYPE html>
{% load static %}
<html lang="en">
  {% include 'header.html' %}
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700&family=Roboto:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/reports/xhtml2pdf.css' %}" />
  </head>
  {% block css %}
  <style>
    body,
    *,
    *::after,
    *::before,
    html {
      font-family: "Nunito", sans-serif;
      font-family: "Roboto", sans-serif;
      font-size: 10px !important;
    }
    body {
      width: 100% !important;
    }
    table {
      padding-bottom: 5px !important;
      padding-top: 7px !important;
      margin-bottom: 10px !important;
      /* -pdf-keep-in-frame-mode: shrink; */
    }
    table tr td {
      text-align: center !important;
    }
    #w-25 {
      width: 25% !important;
      align-content: center !important;
      align-items: center !important;
    }
  </style>
  {% endblock css %}
  <!--  -->

  <body>
    <div class="container">
      <!-- Content Wrapper. Contains page content -->
      <div class="">
        <section class="">
          <div class="row">
            <div class="col-12">
              <div class="box">
                <div class="box-body">
                  <table id="example1" class="">
                    <div
                      style="
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        text-align: center;
                      "
                    >
                      <h2>
                        Jpsa Election Results:
                        <span
                          style="
                            margin-left: 50px;
                            font-size: 15px;
                            line-height: 15px;
                            color: crimson;
                          "
                          >Generated By
                          <span style="color: rgb(7, 65, 65); font-size: 15px"
                            >{{administrator}}</span
                          ></span
                        >
                      </h2>
                      <p style="font-size: 13px">
                        Date: <b style="font-size: 13px">{{today}}</b>
                      </p>
                    </div>
                    <hr style="margin: 10px 0" />
                    {% for key, value in positions.items %}
                    <table
                      id="example1"
                      style="
                        width: 100% !important;
                        margin-bottom: 1px !important;
                      "
                      class="text-center table table-bordered"
                    >
                      <thead>
                        <tr>
                          <th
                            style="background-color: aqua"
                            class="text-center"
                            colspan="5"
                          >
                            {{ key }} | Maximum Number Of Winners :
                            <!--  -->
                            {{ value.max_vote }}
                          </th>
                        </tr>
                        <tr>
                          <th class="text-center">SERIAL NUMBER</th>
                          <th class="text-center">CANDIDATE NAME</th>
                          <th class="text-center">CANDIDATE YEAR</th>
                          <th class="text-center">CANDIDATE ADM NO</th>
                          <th class="text-center">VOTES RECORDED</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for data in value.candidate_data %} {# Loop 2 #}
                        <tr>
                          <td>{{ forloop.counter }}</td>
                          <td>{{ data.name }}</td>
                          <td>{{ data.contestant.year_of_study }}</td>
                          <td>{{ data.contestant.admission_number }}</td>
                          <td>{{ data.votes }}</td>
                        </tr>
                        {% empty %}
                        <tr>
                          <td colspan="5">
                            No Candidates Vying For This Position
                          </td>
                        </tr>
                        {% endfor %}
                        <tr>
                          <th class="text-center" colspan="5">
                            {{ value.winner|safe }}
                            <!--  -->
                            {% if value.winner == value.contestant.fullname %}
                            {{value.contestant.admission_number}} {% endif %}
                          </th>
                        </tr>
                      </tbody>
                    </table>
                    <hr />
                    {% endfor %}
                  </table>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>

    <div class="my-5 py-4"></div>
    <div class="footer_content">@ jeckosandlions.tech</div>
    <div style="margin-left: 15px">
      Follow Us On: <br />
      <a href="https://lionnic.com" target="_blank">Lionnic.com</a>
      <a href="https://newzfox.com" target="_blank">newzfox.com</a>
    </div>
    <div></div>
    <div></div>
  </body>
</html>
